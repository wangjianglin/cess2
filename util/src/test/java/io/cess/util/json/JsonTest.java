package io.cess.util.json;

import org.junit.Test;

/**
 * 
 * @author 王江林
 * @date 2014年1月3日 下午1:42:12
 *
 */
public class JsonTest {

	/**
	 * @throws JSONException 
	 * 
	 */
	@Test
	public void testJSON() throws Exception{
//		TestData data = new TestData();
//		data.setName("name");
//		data.getMaps().put("data", new TestData());
//		data.setArray(new TestData[]{new TestData()});
//		String jsonString = JSONUtil.serialize(data);
//		TestData data2 = (TestData) JSONUtil.deserialize(jsonString, TestData.class);
//		System.out.println("data:"+TestData.compare(data, data2));
//
//		Map<String,TestData> map = new HashMap<>();
//		map.put("data", data);
//
//		jsonString = JSONUtil.serialize(map);
//		@SuppressWarnings("unchecked")
//		Map<String,TestData> map2 = (Map<String,TestData>) JSONUtil.deserialize(jsonString,new ParameterizedType(){
//
//			@Override
//			public Type[] getActualTypeArguments() {
//				return new Type[]{String.class,TestData.class};
//			}
//
//			@Override
//			public Type getRawType() {
//				return Map.class;
//			}
//
//			@Override
//			public Type getOwnerType() {
//				return null;
//			}});
//		System.out.println("data:"+TestData.compare(map, map2));
	}
}
